(this["webpackJsonpsoap-react"]=this["webpackJsonpsoap-react"]||[]).push([[0],{147:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),i=a(14),s=a.n(i),o=a(17),l=a(101),u=a(233),j=a(8),b=a(11),d=a(19),O=a(4),h=a(202),p=a(24),x=a(238),f=a(208),m=a(100),g=a.n(m),v=a(228),y=a(229),C=a(224),k=a(241),w=a(199),S=a(221),A=a(222),_=a(225),z=a(230),N=a(58),I=a(223),F=a(213),B=a(219),W=a(226),q=a(227),M=a(231),P=a(232),T=a(7),D=a.n(T),U=a(9),V=a(204),H=a(236),L=a(211),E=a(239),R=a(203),G=a(242),J=a(205),Y=a(206),K=a(207),Q=a(209),X=a(210),Z=a(212),$=a(237);function ee(e){return Object(n.jsx)(N.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:e.children})}var te=a(192),ae=a(193),ne=a(194),re=a(195),ce=a(235),ie=a(200),se=a(201),oe=a(23),le=a(45),ue=a(44),je=a(26),be=a(63);be.defaults.baseURL="http://51.91.58.213:8080",be.defaults.headers.post["Content-Type"]="application/json;charset=utf-8",be.defaults.headers.post["Access-Control-Allow-Origin"]="*";var de=function(){function e(t){Object(oe.a)(this,e),this.entity_endpoint=t}return Object(je.a)(e,[{key:"getAll",value:function(){var e=Object(U.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,be.get(this.entity_endpoint+"?page=0&limit=25",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.data.content}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getOne",value:function(){var e=Object(U.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),e.next=3,be.get(this.entity_endpoint+"/"+t,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){return e.data}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(U.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),e.abrupt("return",be.post(this.entity_endpoint,t,{headers:{Authorization:"Bearer ".concat(a)}}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(U.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),e.abrupt("return",be.put(this.entity_endpoint,t,{headers:{Authorization:"Bearer ".concat(a)}}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(U.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),e.abrupt("return",be.delete("".concat(this.entity_endpoint,"/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Oe=new(function(e){Object(le.a)(a,e);var t=Object(ue.a)(a);function a(){return Object(oe.a)(this,a),t.call(this,"artist")}return a}(de));function he(e){var t=e.open,a=e.handleClose,c=e.reload,i=Object(r.useState)(""),s=Object(j.a)(i,2),o=s[0],l=s[1],u=Object(r.useState)(""),b=Object(j.a)(u,2),d=b[0],O=b[1],h=function(){var e=Object(U.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==o){e.next=4;break}return e.abrupt("return");case 4:""===d&&O(null);case 5:return e.next=7,Oe.add({alias:o,image_artist:d});case 7:c();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(te.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(ae.a,{id:"form-dialog-title",children:"Ajouter un nouvel artiste"}),Object(n.jsxs)(ne.a,{children:[Object(n.jsx)(re.a,{children:"Pour ajouter un artiste, veuillez saisir les champs demand\xe9s"}),Object(n.jsx)(ce.a,{autoFocus:!0,margin:"dense",id:"alias",label:"Alias",fullWidth:!0,onChange:function(e){return l(e.target.value)},required:!0}),Object(n.jsx)(ce.a,{margin:"dense",id:"image_artist",label:"Image",fullWidth:!0,onChange:function(e){return O(e.target.value)}})]}),Object(n.jsxs)(ie.a,{children:[Object(n.jsx)(se.a,{onClick:a,color:"primary",children:"Annuler"}),Object(n.jsx)(se.a,{variant:"outlined",onClick:h,color:"primary",children:"Ajouter"})]})]})}var pe=new(function(e){Object(le.a)(a,e);var t=Object(ue.a)(a);function a(){return Object(oe.a)(this,a),t.call(this,"album")}return a}(de));function xe(e){var t=e.open,a=e.handleClose,r=e.reload,c=e.album,i=function(){var e=Object(U.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.delete(c.id);case 2:r();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(te.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(ae.a,{id:"form-dialog-title",children:"Suppression d'un album"}),Object(n.jsx)(ne.a,{children:Object(n.jsxs)(re.a,{children:["Voulez-vous vraiment supprimer ",c.name," ?"]})}),Object(n.jsxs)(ie.a,{children:[Object(n.jsx)(se.a,{onClick:a,color:"primary",children:"Non"}),Object(n.jsx)(se.a,{variant:"outlined",onClick:i,color:"primary",children:"Oui"})]})]})}function fe(e){var t=e.open,a=e.handleClose,c=e.reload,i=e.album,s=Object(r.useState)(""),o=Object(j.a)(s,2),l=o[0],u=o[1],b=Object(r.useState)(""),d=Object(j.a)(b,2),O=d[0],h=d[1],p=Object(r.useState)(""),x=Object(j.a)(p,2),f=x[0],m=x[1],g=Object(r.useState)(""),v=Object(j.a)(g,2),y=v[0],C=v[1],k=function(){var e=Object(U.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t={}).id=i.id,t.name=""===l?i.name:l,t.image_album=""===O?i.image_album:O,t.year=null===f?i.release_year:f,t.artistName=""===y?i.artist.alias:y,e.next=8,pe.update(t);case 8:c();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(te.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(ae.a,{id:"form-dialog-title",children:"Modifier un nouveau album"}),Object(n.jsxs)(ne.a,{children:[Object(n.jsx)(ce.a,{autoFocus:!0,margin:"dense",id:"name",label:"Nom",defaultValue:i.name,fullWidth:!0,onChange:function(e){return u(e.target.value)},required:!0}),Object(n.jsx)(ce.a,{margin:"dense",id:"image_album",label:"Couverture",fullWidth:!0,defaultValue:i.image_album,onChange:function(e){return h(e.target.value)}}),Object(n.jsx)(ce.a,{margin:"dense",id:"year",label:"Ann\xe9e de sortie",type:"number",fullWidth:!0,defaultValue:i.release_year,onChange:function(e){return m(e.target.value)},required:!0}),Object(n.jsx)(ce.a,{margin:"dense",id:"artistName",label:"Nom de l'artiste",type:"string",fullWidth:!0,defaultValue:i.artist.alias,onChange:function(e){return C(e.target.value)},required:!0})]}),Object(n.jsxs)(ie.a,{children:[Object(n.jsx)(se.a,{onClick:a,color:"primary",children:"Annuler"}),Object(n.jsx)(se.a,{variant:"outlined",onClick:k,color:"primary",children:"Ajouter"})]})]})}var me=Object(h.a)((function(e){return{root:{flexGrow:0,padding:e.spacing(2)},card:{height:200,width:150},avatar:{"margin-left":"auto","margin-right":"auto","margin-top":"5px","margin-bottom":"40px",color:e.palette.getContrastText("#42ab9e"),backgroundColor:"#42ab9e",width:80,height:80}}}));function ge(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)([]),s=Object(j.a)(i,2),l=s[0],u=s[1],b=Object(r.useState)({}),O=Object(j.a)(b,2),h=O[0],p=O[1],x=Object(r.useState)(!1),f=Object(j.a)(x,2),m=f[0],g=f[1],v=Object(r.useState)(!1),y=Object(j.a)(v,2),C=y[0],k=y[1],w=Object(r.useState)({}),S=Object(j.a)(w,2),A=S[0],_=(S[1],Object(r.useState)(!1)),z=Object(j.a)(_,2),I=z[0],F=z[1],B=Object(r.useState)({}),W=Object(j.a)(B,2),q=W[0],M=(W[1],Object(r.useState)(!1)),P=Object(j.a)(M,2),T=P[0],Q=P[1],X=me(),te=Object(d.h)().id;Object(r.useEffect)((function(){ae()}),[]);var ae=function(){var e=Object(U.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,Oe.getOne(te);case 4:null!=(t=e.sent).albums?u(t.albums):u([]),p(null!=t?t:{}),setTimeout((function(){c(!1)}),1500),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c(!1),Q(!0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ee,{children:h.alias}),null!=h.image_artist&&Object(n.jsx)(R.a,{image:"/dizify/img/"+h.image_artist,title:h.alias,style:{height:"200px",width:"200px","border-radius":"100px",margin:"5px auto 40px auto"}}),null==h.image_artist&&Object(n.jsx)(G.a,{className:X.avatar,style:{height:"200px",width:"200px","border-radius":"100px",margin:"5px auto 40px auto"},children:h.alias}),a?Object(n.jsx)(V.a,{}):Object(n.jsx)(J.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"flex-start",className:X.root,children:l.map((function(e){return Object(n.jsx)(J.a,{item:!0,xs:12,sm:6,md:3,children:Object(n.jsxs)(Y.a,{className:X.card,component:o.b,to:"/album/"+e.id,children:[null!=e.image_album&&Object(n.jsx)(R.a,{image:"/dizify/img/"+e.image_album,title:e.name,style:{height:"140px",width:"140px","margin-top":"5px","margin-left":"auto","margin-right":"auto"}}),null==e.image_album&&Object(n.jsx)(R.a,{image:"/dizify/img/default_album.jpg",title:e.name,style:{height:"140px",width:"140px","margin-top":"5px","margin-left":"auto","margin-right":"auto"}}),Object(n.jsxs)("div",{children:[Object(n.jsx)(K.a,{children:Object(n.jsx)(N.a,{style:{"text-align":"center","font-weight":"bold"},children:e.name})}),!1]})]},e.name)},l.indexOf(e))}))}),Object(n.jsx)(H.a,{display:"flex",alignItems:"center",justifyContent:"center",style:{height:"100%"},children:Object(n.jsx)(L.a,{color:"primary","aria-label":"add",onClick:function(){return g(!0)},children:Object(n.jsx)(Z.a,{})})}),m&&Object(n.jsx)(he,{open:m,handleClose:function(){return g(!1)},reload:function(){g(!1),ae()}}),I&&Object(n.jsx)(fe,{open:I,album:q,handleClose:function(){return F(!1)},reload:function(){F(!1),ae()}}),C&&Object(n.jsx)(xe,{open:C,album:A,handleClose:function(){return k(!1)},reload:function(){k(!1),ae()}}),Object(n.jsx)(E.a,{open:T,autoHideDuration:5e3,onClose:function(){return Q(!1)},children:Object(n.jsx)($.a,{onClose:function(){return Q(!1)},severity:"error",children:"Une erreur r\xe9seau est survenue"})})]})}function ve(e){var t=e.open,a=e.handleClose,r=e.reload,c=e.artist,i=function(){var e=Object(U.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe.delete(c.id);case 2:r();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(te.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(ae.a,{id:"form-dialog-title",children:"Suppression d'un artiste"}),Object(n.jsx)(ne.a,{children:Object(n.jsxs)(re.a,{children:["Voulez-vous vraiment supprimer ",c.alias," ?"]})}),Object(n.jsxs)(ie.a,{children:[Object(n.jsx)(se.a,{onClick:a,color:"primary",children:"Non"}),Object(n.jsx)(se.a,{variant:"outlined",onClick:i,color:"primary",children:"Oui"})]})]})}function ye(e){var t=e.open,a=e.handleClose,c=e.reload,i=e.artist,s=Object(r.useState)(""),o=Object(j.a)(s,2),l=o[0],u=o[1],b=Object(r.useState)(""),d=Object(j.a)(b,2),O=d[0],h=d[1],p=function(){var e=Object(U.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==l){e.next=4;break}return e.abrupt("return");case 4:""===O&&h(null);case 5:return e.next=7,Oe.update({id:i.id,alias:l,image_artist:O});case 7:c();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(te.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(ae.a,{id:"form-dialog-title",children:"Modifier un nouvel artiste"}),Object(n.jsxs)(ne.a,{children:[Object(n.jsx)(ce.a,{autoFocus:!0,id:"alias_edit",label:"Alias",defaultValue:i.alias,fullWidth:!0,onChange:function(e){return u(e.target.value)},required:!0}),Object(n.jsx)(ce.a,{id:"image_artist_edit",label:"Image",defaultValue:i.image_artist,fullWidth:!0,onChange:function(e){return h(e.target.value)}})]}),Object(n.jsxs)(ie.a,{children:[Object(n.jsx)(se.a,{onClick:a,color:"primary",children:"Annuler"}),Object(n.jsx)(se.a,{variant:"outlined",onClick:p,color:"primary",children:"Modifier"})]})]})}var Ce=a(63);Ce.defaults.baseURL="http://51.91.58.213:8080/",Ce.defaults.headers.post["Content-Type"]="application/json;charset=utf-8",Ce.defaults.headers.post["Access-Control-Allow-Origin"]="*";var ke=new(function(){function e(){Object(oe.a)(this,e)}return Object(je.a)(e,[{key:"getAll",value:function(){var e=Object(U.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,Ce.get("favorite",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.data}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addFavorite",value:function(){var e=Object(U.a)(D.a.mark((function e(t,a){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return n=e.sent,e.abrupt("return",Ce.post("favorite/add/".concat(t,"/").concat(a),{},{headers:{Authorization:"Bearer ".concat(n)}}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteFavorite",value:function(){var e=Object(U.a)(D.a.mark((function e(t,a){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.abrupt("return",Ce.delete("favorite/delete/".concat(t,"/").concat(a),{headers:{Authorization:"Bearer ".concat(n)}}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}()),we=Object(h.a)((function(e){return{root:{flexGrow:0,padding:e.spacing(2)},media:{height:80,width:80},card:{display:"block",height:"100%",width:300,"padding-top":25,"text-decoration":"none",color:"black"},avatar:{"margin-left":"auto","margin-right":"auto","margin-top":"5px",color:e.palette.getContrastText("#42ab9e"),backgroundColor:"#42ab9e",width:200,height:200}}}));function Se(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)([]),s=Object(j.a)(i,2),l=s[0],u=s[1],b=Object(r.useState)(!1),d=Object(j.a)(b,2),O=d[0],h=d[1],p=Object(r.useState)(!1),x=Object(j.a)(p,2),m=x[0],g=x[1],v=Object(r.useState)({}),y=Object(j.a)(v,2),C=y[0],k=y[1],w=Object(r.useState)(!1),S=Object(j.a)(w,2),A=S[0],_=S[1],z=Object(r.useState)({}),I=Object(j.a)(z,2),B=I[0],W=I[1],q=Object(r.useState)(!1),M=Object(j.a)(q,2),P=M[0],T=M[1],te=we();Object(r.useEffect)((function(){ae()}),[]);var ae=function(){var e=Object(U.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,Oe.getAll();case 4:t=e.sent,u(null!=t?t:[]),setTimeout((function(){c(!1)}),1500),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),c(!1),T(!0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ee,{children:"Liste des artistes"}),a?Object(n.jsx)(V.a,{}):Object(n.jsx)(J.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"flex-start",className:te.root,children:l.map((function(e){return Object(n.jsx)(J.a,{item:!0,xs:12,sm:6,md:3,children:Object(n.jsxs)(Y.a,{className:te.card,children:[null!==e.image_artist&&Object(n.jsx)(R.a,{component:o.b,to:"/artist/"+e.id,image:"/dizify/img/"+e.image_artist,title:e.alias,style:{height:"200px",width:"200px","border-radius":"100px","margin-top":"5px","margin-left":"auto","margin-right":"auto"}}),null==e.image_artist&&Object(n.jsx)(G.a,{component:o.b,to:"/artist/"+e.id,className:te.avatar,children:e.alias.substring(0,1)}),Object(n.jsxs)("div",{children:[Object(n.jsx)(K.a,{children:Object(n.jsx)(N.a,{component:o.b,to:"/artist/"+e.id,style:{"text-align":"center","font-weight":"bold"},children:e.alias})}),Object(n.jsxs)("div",{children:[Object(n.jsx)(f.a,{"aria-label":"Modifier un artiste",onClick:function(){W(e),_(!0)},children:Object(n.jsx)(Q.a,{})}),Object(n.jsx)(f.a,{"aria-label":"Supprimer un artiste",onClick:function(){k(e),g(!0)},children:Object(n.jsx)(X.a,{})}),Object(n.jsx)(f.a,{"aria-label":"favori artist",onClick:function(){ke.addFavorite("artist",e.id)},children:Object(n.jsx)(F.a,{})})]})]})]},e.alias)},l.indexOf(e))}))}),Object(n.jsx)(H.a,{display:"flex",alignItems:"center",justifyContent:"center",style:{height:"35%"},children:Object(n.jsx)(L.a,{color:"primary","aria-label":"add",onClick:function(){return h(!0)},children:Object(n.jsx)(Z.a,{})})}),O&&Object(n.jsx)(he,{open:O,handleClose:function(){return h(!1)},reload:function(){h(!1),ae()}}),A&&Object(n.jsx)(ye,{open:A,artist:B,handleClose:function(){return _(!1)},reload:function(){_(!1),ae()}}),m&&Object(n.jsx)(ve,{open:m,artist:C,handleClose:function(){return g(!1)},reload:function(){g(!1),ae()}}),Object(n.jsx)(E.a,{open:P,autoHideDuration:5e3,onClose:function(){return T(!1)},children:Object(n.jsx)($.a,{onClose:function(){return T(!1)},severity:"error",children:"Une erreur r\xe9seau est survenue"})})]})}var Ae=a(214),_e=a(215),ze=a(216),Ne=a(217),Ie=a(218),Fe=new(function(e){Object(le.a)(a,e);var t=Object(ue.a)(a);function a(){return Object(oe.a)(this,a),t.call(this,"song")}return a}(de));function Be(e){var t=e.open,a=e.handleClose,c=e.reload,i=e.album,s=Object(r.useState)(""),o=Object(j.a)(s,2),l=o[0],u=o[1],b=Object(r.useState)(""),d=Object(j.a)(b,2),O=d[0],h=d[1],p=Object(r.useState)(""),x=Object(j.a)(p,2),f=(x[0],x[1],Object(r.useState)("")),m=Object(j.a)(f,2),g=(m[0],m[1],function(){var e=Object(U.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==l&&""!==O){e.next=2;break}return e.abrupt("return");case 2:return t=i.artist.id,e.next=5,Fe.add({title:l,duration:O,album_id:i.id,artist_id:t});case 5:c();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(n.jsxs)(te.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(ae.a,{id:"form-dialog-title",children:"Ajouter une nouvelle chanson"}),Object(n.jsxs)(ne.a,{children:[Object(n.jsx)(re.a,{children:"Pour ajouter une chanson, veuillez saisir les champs demand\xe9s"}),Object(n.jsx)(ce.a,{autoFocus:!0,margin:"dense",id:"title",label:"Titre",fullWidth:!0,onChange:function(e){return u(e.target.value)},required:!0}),Object(n.jsx)(ce.a,{margin:"dense",id:"duration",label:"Dur\xe9e",fullWidth:!0,onChange:function(e){return h(e.target.value)},required:!0})]}),Object(n.jsxs)(ie.a,{children:[Object(n.jsx)(se.a,{onClick:a,color:"primary",children:"Annuler"}),Object(n.jsx)(se.a,{variant:"outlined",onClick:g,color:"primary",children:"Ajouter"})]})]})}function We(e){var t=e.open,a=e.handleClose,c=e.reload,i=e.song,s=Object(r.useState)(""),o=Object(j.a)(s,2),l=o[0],u=o[1],b=Object(r.useState)(""),d=Object(j.a)(b,2),O=d[0],h=d[1],p=function(){var e=Object(U.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t={}).id=i.id,t.title=""===l?i.title:l,t.duration=""===O?i.duration:O,e.next=6,Fe.update(t);case 6:c();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(te.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(ae.a,{id:"form-dialog-title",children:"Modifier une chanson"}),Object(n.jsxs)(ne.a,{children:[Object(n.jsx)(ce.a,{autoFocus:!0,margin:"dense",id:"title",label:"Titre",defaultValue:i.title,fullWidth:!0,onChange:function(e){return u(e.target.value)},required:!0}),Object(n.jsx)(ce.a,{margin:"dense",id:"duration",label:"Dur\xe9e",defaultValue:i.duration,fullWidth:!0,onChange:function(e){return h(e.target.value)},required:!0})]}),Object(n.jsxs)(ie.a,{children:[Object(n.jsx)(se.a,{onClick:a,color:"primary",children:"Annuler"}),Object(n.jsx)(se.a,{variant:"outlined",onClick:p,color:"primary",children:"Ajouter"})]})]})}function qe(e){var t=e.open,a=e.handleClose,r=e.reload,c=e.song,i=function(){var e=Object(U.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.delete(c.id);case 2:r();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(te.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(ae.a,{id:"form-dialog-title",children:"Suppression d'une Chanson"}),Object(n.jsx)(ne.a,{children:Object(n.jsxs)(re.a,{children:["Voulez-vous vraiment supprimer ",c.title," ?"]})}),Object(n.jsxs)(ie.a,{children:[Object(n.jsx)(se.a,{onClick:a,color:"primary",children:"Non"}),Object(n.jsx)(se.a,{variant:"outlined",onClick:i,color:"primary",children:"Oui"})]})]})}var Me=a(63);Me.defaults.baseURL="http://localhost:8080/",Me.defaults.headers.post["Content-Type"]="application/json;charset=utf-8",Me.defaults.headers.post["Access-Control-Allow-Origin"]="*";var Pe=new(function(){function e(){Object(oe.a)(this,e)}return Object(je.a)(e,[{key:"getAll",value:function(){var e=Object(U.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,Me.get("playlist",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.data}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addPlaylist",value:function(){var e=Object(U.a)(D.a.mark((function e(t,a){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return n=e.sent,e.abrupt("return",Me.post("playlist/add/".concat(t,"/").concat(a),{},{headers:{Authorization:"Bearer ".concat(n)}}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deletePlaylist",value:function(){var e=Object(U.a)(D.a.mark((function e(t,a){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.abrupt("return",Me.delete("playlist/delete/".concat(t),a,{headers:{Authorization:"Bearer ".concat(n)}}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}());function Te(e){var t=e.open,a=e.handleClose,r=(e.reload,function(){var e=Object(U.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(n.jsxs)(te.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(ae.a,{id:"form-dialog-title",children:"Ajouter le son dans la playlist :"}),Object(n.jsx)(ne.a,{}),Object(n.jsxs)(ie.a,{children:[Object(n.jsx)(se.a,{onClick:a,color:"primary",children:"Annuler"}),Object(n.jsx)(se.a,{variant:"outlined",onClick:r,color:"primary",children:"Ajouter"})]})]})}function De(){var e,t=Object(r.useState)(!0),a=Object(j.a)(t,2),c=a[0],i=a[1],s=Object(r.useState)({}),l=Object(j.a)(s,2),u=l[0],O=l[1],h=Object(r.useState)({}),p=Object(j.a)(h,2),x=p[0],m=p[1],g=Object(r.useState)([]),v=Object(j.a)(g,2),y=v[0],C=v[1],k=Object(r.useState)(!1),w=Object(j.a)(k,2),S=w[0],A=w[1],_=Object(r.useState)(!1),z=Object(j.a)(_,2),I=z[0],W=z[1],q=Object(r.useState)({}),M=Object(j.a)(q,2),P=M[0],T=M[1],R=Object(r.useState)(!1),G=Object(j.a)(R,2),Y=G[0],K=G[1],te=Object(r.useState)({}),ae=Object(j.a)(te,2),ne=ae[0],re=ae[1],ce=Object(r.useState)(!1),ie=Object(j.a)(ce,2),se=ie[0],oe=ie[1],le=Object(r.useState)(!1),ue=Object(j.a)(le,2),je=ue[0],be=ue[1],de=Object(d.h)().id;Object(r.useEffect)((function(){Oe()}),[]);var Oe=function(){var e=Object(U.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.getOne(de);case 3:null!=(t=e.sent).artist?O(t.artist):O({}),m(null!=t?t:{}),null!=t.songs?C(t.songs):C([]),setTimeout((function(){i(!1)}),1500),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(!1),oe(!0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(J.a,{container:!0,children:[Object(n.jsxs)(J.a,{item:!0,children:[null!=x.image_album&&Object(n.jsx)("img",{src:"/dizify/img/"+x.image_album,alt:x.name,style:{height:"200px",width:"200px","border-radius":"100px",margin:"5px auto 40px auto"}}),null==x.image_album&&Object(n.jsx)("img",{src:"/dizify/img/default_album.jpg",alt:x.name,style:{height:"200px",width:"200px","border-radius":"100px",margin:"5px auto 40px auto"}})]}),Object(n.jsx)(J.a,{item:!0,style:{padding:"0 0 0 15px"},children:Object(n.jsxs)("div",{children:[Object(n.jsx)(N.a,{component:"h1",variant:"h4",color:"black",gutterBottom:!0,children:x.name}),Object(n.jsx)(N.a,(e={component:"h1",variant:"h5",color:"black",gutterBottom:!0},Object(b.a)(e,"component",o.b),Object(b.a)(e,"to","/artist/"+u.id),Object(b.a)(e,"children",u.alias),e)),Object(n.jsx)(N.a,{component:"h1",color:"black",gutterBottom:!0,children:x.release_year})]})})]}),Object(n.jsx)(ee,{children:"Liste des Chansons"}),c?Object(n.jsx)(V.a,{}):Object(n.jsxs)(Ae.a,{size:"small",children:[Object(n.jsx)(_e.a,{children:Object(n.jsxs)(ze.a,{children:[Object(n.jsx)(Ne.a,{children:"Nom"}),Object(n.jsx)(Ne.a,{children:"dur\xe9e"}),Object(n.jsx)(Ne.a,{})]})}),Object(n.jsx)(Ie.a,{children:y.map((function(e){return Object(n.jsxs)(ze.a,{children:[Object(n.jsx)(Ne.a,{children:e.title}),Object(n.jsx)(Ne.a,{children:e.duration}),Object(n.jsxs)(Ne.a,{children:[Object(n.jsx)(f.a,{"aria-label":"Modifier un song",onClick:function(){re(e),K(!0)},children:Object(n.jsx)(Q.a,{})}),Object(n.jsx)(f.a,{"aria-label":"Supprimer un song",onClick:function(){T(e),W(!0)},children:Object(n.jsx)(X.a,{})}),Object(n.jsx)(f.a,{"aria-label":"ajout au favori",onClick:function(){ke.addFavorite("song",e.id)},children:Object(n.jsx)(F.a,{})}),Object(n.jsx)(f.a,{"aria-label":"ajout a la playlist",onClick:function(){return be(!0)},children:Object(n.jsx)(B.a,{})})]})]},e.title)}))})]}),Object(n.jsx)(H.a,{display:"flex",alignItems:"center",justifyContent:"center",style:{height:"100%"},children:Object(n.jsx)(L.a,{color:"primary","aria-label":"add",onClick:function(){return A(!0)},children:Object(n.jsx)(Z.a,{})})}),S&&Object(n.jsx)(Be,{open:S,album:x,handleClose:function(){return A(!1)},reload:function(){A(!1),Oe()}}),Y&&Object(n.jsx)(We,{open:Y,song:ne,handleClose:function(){return K(!1)},reload:function(){K(!1),Oe()}}),I&&Object(n.jsx)(qe,{open:I,song:P,handleClose:function(){return W(!1)},reload:function(){W(!1),Oe()}}),je&&Object(n.jsx)(Te,{open:je,handleClose:function(){return be(!1)},reload:function(){be(!1),Oe()}}),Object(n.jsx)(E.a,{open:se,autoHideDuration:5e3,onClose:function(){return oe(!1)},children:Object(n.jsx)($.a,{onClose:function(){return oe(!1)},severity:"error",children:"Une erreur r\xe9seau est survenue"})})]})}function Ue(e){var t=e.open,a=e.handleClose,c=e.reload,i=Object(r.useState)(""),s=Object(j.a)(i,2),o=s[0],l=s[1],u=Object(r.useState)(""),b=Object(j.a)(u,2),d=b[0],O=b[1],h=Object(r.useState)(""),p=Object(j.a)(h,2),x=p[0],f=p[1],m=Object(r.useState)(""),g=Object(j.a)(m,2),v=g[0],y=g[1],C=function(){var e=Object(U.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==o&&""!==x&&""!==v){e.next=4;break}return e.abrupt("return");case 4:""===d&&O(null);case 5:return e.next=7,pe.add({name:o,image_album:d,release_year:x,artist_name:v});case 7:c();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(te.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(ae.a,{id:"form-dialog-title",children:"Ajouter un nouveau album"}),Object(n.jsxs)(ne.a,{children:[Object(n.jsx)(re.a,{children:"Pour ajouter un album, veuillez saisir les champs demand\xe9s"}),Object(n.jsx)(ce.a,{autoFocus:!0,margin:"dense",id:"name",label:"Nom",fullWidth:!0,onChange:function(e){return l(e.target.value)},required:!0}),Object(n.jsx)(ce.a,{margin:"dense",id:"image_album",label:"Couverture",fullWidth:!0,onChange:function(e){return O(e.target.value)}}),Object(n.jsx)(ce.a,{margin:"dense",id:"year",label:"Ann\xe9e de sortie",type:"number",fullWidth:!0,onChange:function(e){return f(e.target.value)},required:!0}),Object(n.jsx)(ce.a,{margin:"dense",id:"artistName",label:"Nom de l'artiste",type:"string",fullWidth:!0,onChange:function(e){return y(e.target.value)},required:!0})]}),Object(n.jsxs)(ie.a,{children:[Object(n.jsx)(se.a,{onClick:a,color:"primary",children:"Annuler"}),Object(n.jsx)(se.a,{variant:"outlined",onClick:C,color:"primary",children:"Ajouter"})]})]})}function Ve(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)([]),s=Object(j.a)(i,2),l=s[0],u=s[1],b=Object(r.useState)(!1),d=Object(j.a)(b,2),O=d[0],h=d[1],p=Object(r.useState)(!1),x=Object(j.a)(p,2),m=x[0],g=x[1],v=Object(r.useState)({}),y=Object(j.a)(v,2),C=y[0],k=y[1],w=Object(r.useState)(!1),S=Object(j.a)(w,2),A=S[0],_=S[1],z=Object(r.useState)({}),N=Object(j.a)(z,2),I=N[0],B=N[1],W=Object(r.useState)(!1),q=Object(j.a)(W,2),M=q[0],P=q[1];Object(r.useEffect)((function(){T()}),[]);var T=function(){var e=Object(U.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.getAll();case 3:t=e.sent,u(null!=t?t:[]),setTimeout((function(){c(!1)}),1500),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),c(!1),P(!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ee,{children:"Liste des albums"}),a?Object(n.jsx)(V.a,{}):Object(n.jsxs)(Ae.a,{size:"small",children:[Object(n.jsx)(_e.a,{children:Object(n.jsxs)(ze.a,{children:[Object(n.jsx)(Ne.a,{children:"Couverture"}),Object(n.jsx)(Ne.a,{children:"Nom"}),Object(n.jsx)(Ne.a,{align:"right",children:"Ann\xe9e de publication"}),Object(n.jsx)(Ne.a,{})]})}),Object(n.jsx)(Ie.a,{children:l.map((function(e){return Object(n.jsxs)(ze.a,{children:[null!=e.image_album&&Object(n.jsx)(Ne.a,{component:o.b,to:"/album/"+e.id,children:Object(n.jsx)("img",{src:"/dizify/img/"+e.image_album,alt:e.name,style:{height:"50px",width:"50px","border-radius":"100px"}})}),null==e.image_album&&Object(n.jsx)(Ne.a,{component:o.b,to:"/album/"+e.id,children:Object(n.jsx)("img",{src:"/dizify/img/default_album.jpg",alt:e.name,style:{height:"50px",width:"50px","border-radius":"100px"}})}),Object(n.jsx)(Ne.a,{component:o.b,to:"/album/"+e.id,children:e.name}),Object(n.jsx)(Ne.a,{align:"right",component:o.b,to:"/album/"+e.id,children:e.release_year}),Object(n.jsxs)(Ne.a,{children:[Object(n.jsx)(f.a,{"aria-label":"Modifier un album",onClick:function(){B(e),_(!0)},children:Object(n.jsx)(Q.a,{})}),Object(n.jsx)(f.a,{"aria-label":"Supprimer un album",onClick:function(){k(e),g(!0)},children:Object(n.jsx)(X.a,{})}),Object(n.jsx)(f.a,{"aria-label":"favori album",onClick:function(){ke.addFavorite("album",e.id)},children:Object(n.jsx)(F.a,{})})]})]},e.name)}))})]}),Object(n.jsx)(H.a,{display:"flex",alignItems:"center",justifyContent:"center",style:{height:"100%"},children:Object(n.jsx)(L.a,{color:"primary","aria-label":"add",onClick:function(){return h(!0)},children:Object(n.jsx)(Z.a,{})})}),O&&Object(n.jsx)(Ue,{open:O,handleClose:function(){return h(!1)},reload:function(){h(!1),T()}}),A&&Object(n.jsx)(fe,{open:A,album:I,handleClose:function(){return _(!1)},reload:function(){_(!1),T()}}),m&&Object(n.jsx)(xe,{open:m,album:C,handleClose:function(){return g(!1)},reload:function(){g(!1),T()}}),Object(n.jsx)(E.a,{open:M,autoHideDuration:5e3,onClose:function(){return P(!1)},children:Object(n.jsx)($.a,{onClose:function(){return P(!1)},severity:"error",children:"Une erreur r\xe9seau est survenue"})})]})}var He=a(63);He.defaults.baseURL="http://51.91.58.213:8080";var Le=new(function(){function e(){Object(oe.a)(this,e)}return Object(je.a)(e,[{key:"add",value:function(){var e=Object(U.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",He.post("sign-up",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(U.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",He.post("sign-in",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(U.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.clear();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()),Ee=a(29);function Re(e){var t=e.open,a=e.handleClose,c=e.reload,i=Object(r.useState)(""),s=Object(j.a)(i,2),o=s[0],l=s[1],u=Object(r.useState)(""),b=Object(j.a)(u,2),d=b[0],O=b[1],h=Object(r.useState)(""),p=Object(j.a)(h,2),x=p[0],f=p[1],m=function(){var e=Object(U.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==o&&""!==d&&""!==x){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Le.add({avatar:null,email:o,password:d,pseudo:x,favorite_id:null});case 4:c();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(te.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(ae.a,{id:"form-dialog-title",children:"Ajouter un nouvelle utilisateur "}),Object(n.jsxs)(ne.a,{children:[Object(n.jsx)(re.a,{children:"Cr\xe9ez un compte utilisateur"}),Object(n.jsx)(ce.a,{autoFocus:!0,margin:"dense",id:"pseudo",label:"Pseudo",fullWidth:!0,onChange:function(e){return f(e.target.value)},required:!0}),Object(n.jsx)(ce.a,{margin:"dense",id:"email",label:"email",fullWidth:!0,onChange:function(e){return l(e.target.value)},required:!0}),Object(n.jsx)(ce.a,{margin:"dense",id:"password",label:"Mot de passe",fullWidth:!0,onChange:function(e){return O(e.target.value)},required:!0})]}),Object(n.jsxs)(ie.a,{children:[Object(n.jsx)(se.a,{onClick:a,color:"primary",children:"Annuler"}),Object(n.jsx)(se.a,{variant:"outlined",onClick:m,color:"primary",children:"Ajouter"})]})]})}var Ge=a(220),Je=a(197),Ye=a(196),Ke=a(234),Qe=function(e){Object(le.a)(a,e);var t=Object(ue.a)(a);function a(e){var n;return Object(oe.a)(this,a),(n=t.call(this,e)).myChangeHandler=function(e){var t=e.target.name,a=e.target.value;n.setState(Object(b.a)({},t,a))},n.login=Object(U.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n.state.email&&""!==n.state.password){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Le.login(n.state);case 4:n.user=e.sent,void 0!==n.user&&(localStorage.setItem("id",n.user.data.id),localStorage.setItem("email",n.user.data.email),localStorage.setItem("pseudo",n.user.data.pseudo),localStorage.setItem("token",n.user.data.token),localStorage.setItem("isConnect",!0),n.setState({redirect:!0}));case 6:case"end":return e.stop()}}),e)}))),n.state={email:"",password:null,redirect:!1},n}return Object(je.a)(a,[{key:"render",value:function(){return this.state.redirect?Object(n.jsx)(d.a,{to:"/"}):Object(n.jsxs)(Ke.a,{children:[Object(n.jsx)(Ge.a,{children:Object(n.jsxs)(Je.a,{style:{width:"20%",left:"40%",top:"20%"},children:[Object(n.jsx)(ee,{children:"Se connecter"}),Object(n.jsx)(N.a,{children:"Email :"}),Object(n.jsx)(Ye.a,{style:{margin:"20px"},type:"text",name:"email",onChange:this.myChangeHandler})]})}),Object(n.jsx)(Ge.a,{children:Object(n.jsxs)(Je.a,{style:{width:"20%",left:"40%",top:"20%"},children:[Object(n.jsx)(N.a,{children:"Mot de passe :"}),Object(n.jsx)(Ye.a,{style:{margin:"20px"},type:"password",name:"password",onChange:this.myChangeHandler})]})}),Object(n.jsx)(Je.a,{style:{width:"20%",left:"40%",top:"20%"},children:Object(n.jsx)(se.a,{onClick:this.login,style:{margin:"20px",color:"#42ab9e",border:"2px solid rgba(66, 171, 158, 0.5)",background:"transparent"},children:"Soumettre "})})]})}}]),a}(c.a.Component);function Xe(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)(!1),s=Object(j.a)(i,2),o=s[0],l=s[1],u=Object(r.useState)(!1),b=Object(j.a)(u,2),d=b[0],O=b[1];Object(r.useEffect)((function(){h()}),[]);var h=function(){var e=Object(U.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{setTimeout((function(){c(!1)}),1500)}catch(t){c(!1),O(!0)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[a?Object(n.jsx)(V.a,{}):Object(n.jsx)(Qe,{}),Object(n.jsxs)(H.a,{display:"flex",alignItems:"center",justifyContent:"center",style:{height:"100%"},children:[Object(n.jsx)(N.a,{style:{margin:"20px"},children:"Cr\xe9ez un compte utilisateur"}),Object(n.jsx)(L.a,{color:"primary","aria-label":"add",onClick:function(){return l(!0)},children:Object(n.jsx)(Z.a,{})})]}),o&&Object(n.jsx)(Re,{open:o,handleClose:function(){return l(!1)},reload:function(){l(!1),h()}}),Object(n.jsx)(E.a,{open:d,autoHideDuration:5e3,onClose:function(){return O(!1)},children:Object(n.jsx)($.a,{onClose:function(){return O(!1)},severity:"error",children:"Une erreur r\xe9seau est survenue"})})]})}function Ze(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)([]),s=Object(j.a)(i,2),o=s[0],l=s[1],u=Object(r.useState)([]),b=Object(j.a)(u,2),d=b[0],O=b[1],h=Object(r.useState)([]),p=Object(j.a)(h,2),x=p[0],m=p[1],g=Object(r.useState)(!1),v=Object(j.a)(g,2),y=v[0],C=v[1];Object(r.useEffect)((function(){k()}),[]);var k=function(){var e=Object(U.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.getAll();case 3:null!=(t=e.sent).favoriteArtists?m(t.favoriteArtists):m([]),null!=t.favoriteAlbums?l(t.favoriteAlbums):l([]),null!=t.favoriteSongs?O(t.favoriteSongs):O([]),setTimeout((function(){c(!1)}),1500),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c(!1),C(!0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ee,{children:"Liste des favoris"}),a?Object(n.jsx)(V.a,{}):Object(n.jsxs)(Ae.a,{size:"small",children:[Object(n.jsxs)(_e.a,{children:[Object(n.jsx)("h1",{children:"Album :"}),Object(n.jsxs)(ze.a,{children:[Object(n.jsx)(Ne.a,{children:"Nom de l'album :"}),Object(n.jsx)(Ne.a,{children:"Date de sortie : "}),Object(n.jsx)(Ne.a,{})]})]}),Object(n.jsx)(Ie.a,{children:o.map((function(e){return Object(n.jsxs)(ze.a,{children:[Object(n.jsx)(Ne.a,{children:e.name}),Object(n.jsx)(Ne.a,{children:e.release_year}),Object(n.jsx)(Ne.a,{children:Object(n.jsx)(f.a,{"aria-label":"Supprimer un favori",onClick:Object(U.a)(D.a.mark((function t(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ke.deleteFavorite("album",e.id);case 2:k();case 3:case"end":return t.stop()}}),t)}))),children:Object(n.jsx)(X.a,{})})})]},e.name)}))})]}),a?Object(n.jsx)(V.a,{}):Object(n.jsxs)(Ae.a,{size:"small",children:[Object(n.jsxs)(_e.a,{children:[Object(n.jsx)("h1",{children:"Songs :"}),Object(n.jsxs)(ze.a,{children:[Object(n.jsx)(Ne.a,{children:"Nom"}),Object(n.jsx)(Ne.a,{children:"Dur\xe9e"}),Object(n.jsx)(Ne.a,{})]})]}),Object(n.jsx)(Ie.a,{children:d.map((function(e){return Object(n.jsxs)(ze.a,{children:[Object(n.jsx)(Ne.a,{children:e.title}),Object(n.jsx)(Ne.a,{children:e.duration}),Object(n.jsx)(Ne.a,{children:Object(n.jsx)(f.a,{"aria-label":"Supprimer un favori",onClick:Object(U.a)(D.a.mark((function t(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ke.deleteFavorite("song",e.id);case 2:k();case 3:case"end":return t.stop()}}),t)}))),children:Object(n.jsx)(X.a,{})})})]},e.title)}))})]}),a?Object(n.jsx)(V.a,{}):Object(n.jsxs)(Ae.a,{size:"small",children:[Object(n.jsxs)(_e.a,{children:[Object(n.jsx)("h1",{children:"Artistes :"}),Object(n.jsxs)(ze.a,{children:[Object(n.jsx)(Ne.a,{children:"Alias"}),Object(n.jsx)(Ne.a,{})]})]}),Object(n.jsx)(Ie.a,{children:x.map((function(e){return Object(n.jsxs)(ze.a,{children:[Object(n.jsx)(Ne.a,{children:e.alias}),Object(n.jsx)(Ne.a,{children:Object(n.jsx)(f.a,{"aria-label":"Supprimer un favori",onClick:Object(U.a)(D.a.mark((function t(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ke.deleteFavorite("artist",e.id);case 2:k();case 3:case"end":return t.stop()}}),t)}))),children:Object(n.jsx)(X.a,{})})})]},e.name)}))})]}),Object(n.jsx)(E.a,{open:y,autoHideDuration:5e3,onClose:function(){return C(!1)},children:Object(n.jsx)($.a,{onClose:function(){return C(!1)},severity:"error",children:"Une erreur r\xe9seau est survenue"})})]})}function $e(e){var t=e.open,a=e.handleClose,c=e.reload,i=Object(r.useState)(""),s=Object(j.a)(i,2),o=s[0],l=s[1],u=function(){var e=Object(U.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==o){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Pe.add({name:o});case 4:c();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(te.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(ae.a,{id:"form-dialog-title",children:"Nouvelle playlist: "}),Object(n.jsx)(ne.a,{children:Object(n.jsx)(ce.a,{autoFocus:!0,margin:"dense",id:"name",label:"nom :",fullWidth:!0,onChange:function(e){return l(e.target.value)},required:!0})}),Object(n.jsxs)(ie.a,{children:[Object(n.jsx)(se.a,{onClick:a,color:"primary",children:"Annuler"}),Object(n.jsx)(se.a,{variant:"outlined",onClick:u,color:"primary",children:"Ajouter"})]})]})}function et(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)([]),s=Object(j.a)(i,2),o=s[0],l=s[1],u=Object(r.useState)(!1),b=Object(j.a)(u,2),d=b[0],O=b[1],h=Object(r.useState)(!1),p=Object(j.a)(h,2),x=p[0],f=p[1];Object(r.useEffect)((function(){m()}),[]);var m=function(){var e=Object(U.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pe.getAll();case 3:t=e.sent,l(t),setTimeout((function(){c(!1)}),1500),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),c(!1),f(!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ee,{children:"Mes Playlists :"}),a?Object(n.jsx)(V.a,{}):o.map((function(e){return Object(n.jsxs)(Ae.a,{size:"small",children:[Object(n.jsxs)(_e.a,{children:[Object(n.jsxs)("h1",{children:["Playlists ",e.name," :"]}),Object(n.jsxs)(ze.a,{children:[Object(n.jsx)(Ne.a,{children:"Nom de la Musique :"}),Object(n.jsx)(Ne.a,{children:"Dur\xe9e : "}),Object(n.jsx)(Ne.a,{})]})]}),Object(n.jsx)(Ie.a,{})]})})),Object(n.jsx)(H.a,{display:"flex",alignItems:"center",justifyContent:"center",style:{height:"100%"},children:Object(n.jsx)(L.a,{color:"primary","aria-label":"add",onClick:function(){return O(!0)},children:Object(n.jsx)(Z.a,{})})}),d&&Object(n.jsx)($e,{open:d,handleClose:function(){return O(!1)},reload:function(){O(!1),m()}}),Object(n.jsx)(E.a,{open:x,autoHideDuration:5e3,onClose:function(){return f(!1)},children:Object(n.jsx)($.a,{onClose:function(){return f(!1)},severity:"error",children:"Une erreur r\xe9seau est survenue"})})]})}var tt=240,at=Object(h.a)((function(e){return{root:{display:"flex"},drawer:Object(b.a)({},e.breakpoints.up("sm"),{width:tt,flexShrink:0}),appBar:Object(b.a)({marginLeft:tt},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(tt,"px)")}),menuButton:Object(b.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:tt},content:{flexGrow:1,padding:e.spacing(3)},title:{flexGrow:1}}})),nt=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{children:"S\xe9lectionner une page"}),Object(n.jsx)("img",{src:"/dizifylogo512.png",alt:"Logo Ynov"})]})};function rt(e){var t=Object(Ee.b)(),a=at(),r=e.window,i=Object(p.a)(),s=c.a.useState(!1),l=Object(j.a)(s,2),u=l[0],b=l[1],h=void 0!==r?function(){return r().document.body}:void 0,m=function(){b(!u)},T="";switch(Object(d.g)().pathname){default:T="";break;case"/":T="Page d'accueil";break;case"/albums":T="Albums";break;case"/artists":T="Artistes";break;case"/favory":T="Favories";break;case"/playlist":T="Playlists"}var D=Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:a.toolbar}),Object(n.jsx)(S.a,{component:o.b,to:"/",children:Object(n.jsx)(A.a,{children:Object(n.jsx)(I.a,{})})}),Object(n.jsx)(C.a,{}),Object(n.jsxs)(w.a,{children:[Object(n.jsxs)(S.a,{component:o.b,to:"/favory",children:[Object(n.jsx)(A.a,{children:Object(n.jsx)(F.a,{})}),Object(n.jsx)(_.a,{primary:"Mes favoris"})]}),Object(n.jsxs)(S.a,{component:o.b,to:"/playlist",children:[Object(n.jsx)(A.a,{children:Object(n.jsx)(B.a,{})}),Object(n.jsx)(_.a,{primary:"Mes playlists"})]}),Object(n.jsxs)(S.a,{component:o.b,to:"/artists",children:[Object(n.jsx)(A.a,{children:Object(n.jsx)(W.a,{})}),Object(n.jsx)(_.a,{primary:"Artistes"})]}),Object(n.jsxs)(S.a,{component:o.b,to:"/albums",children:[Object(n.jsx)(A.a,{children:Object(n.jsx)(q.a,{})}),Object(n.jsx)(_.a,{primary:"Albums"})]})]})]});return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:a.root,children:[Object(n.jsx)(v.a,{}),Object(n.jsx)(y.a,{position:"absolute",className:Object(O.a)(a.appBar,a.appBarShift),children:Object(n.jsxs)(z.a,{className:a.toolbar,children:[Object(n.jsx)(f.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:m,className:a.menuButton,children:Object(n.jsx)(g.a,{})}),Object(n.jsx)(N.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:a.title,children:T}),null==localStorage.getItem("isConnect")&&Object(n.jsx)("div",{children:Object(n.jsx)(f.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",component:o.b,to:"/users",color:"inherit",children:Object(n.jsx)(M.a,{})})}),1==new Boolean(localStorage.getItem("isConnect"))&&Object(n.jsx)("div",{children:Object(n.jsx)(f.a,{"aria-label":"account of current user","aria-controls":"menu-deconnexion","aria-haspopup":"true",onClick:function(){Le.signOut(),t.go("users")},color:"inherit",children:Object(n.jsx)(P.a,{})})})]})}),Object(n.jsxs)("nav",{className:a.drawer,"aria-label":"mailbox folders",children:[Object(n.jsx)(x.a,{smUp:!0,implementation:"css",children:Object(n.jsx)(k.a,{container:h,variant:"temporary",anchor:"rtl"===i.direction?"right":"left",open:u,onClose:m,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0},children:D})}),Object(n.jsx)(x.a,{xsDown:!0,implementation:"css",children:Object(n.jsx)(k.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0,children:D})})]}),Object(n.jsxs)("main",{className:a.content,children:[Object(n.jsx)("div",{className:a.toolbar}),Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{exact:!0,path:"/",render:function(){return Object(n.jsx)(nt,{})}}),Object(n.jsx)(d.b,{path:"/artists",render:function(){return Object(n.jsx)(Se,{})}}),Object(n.jsx)(d.b,{path:"/artist/:id",render:function(){return Object(n.jsx)(ge,{})}}),Object(n.jsx)(d.b,{path:"/albums",render:function(){return Object(n.jsx)(Ve,{})}}),Object(n.jsx)(d.b,{path:"/album/:id",render:function(){return Object(n.jsx)(De,{})}}),Object(n.jsx)(d.b,{path:"/users",render:function(){return Object(n.jsx)(Xe,{})}}),Object(n.jsx)(d.b,{path:"/favory",render:function(){return Object(n.jsx)(Ze,{})}}),Object(n.jsx)(d.b,{path:"/playlist",render:function(){return Object(n.jsx)(et,{})}})]})]})]})})}var ct=Object(l.a)({palette:{primary:{main:"#42ab9e"}}});s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(o.a,{children:Object(n.jsx)(u.a,{theme:ct,children:Object(n.jsx)(rt,{})})})}),document.getElementById("root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.09a08558.chunk.js.map